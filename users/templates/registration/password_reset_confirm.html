{% extends "registration/password_reset_layout.html" %}
{% load static %}

{% block title %}
    Set Password
{% endblock %}

{% block content %}
    <h1 class="mb-4">Set Password</h1>
    {% if validlink %}

        <p>Please enter your new password twice so we can verify you typed it in correctly.</p>

        <form method="post">{% csrf_token %}
            <fieldset class="module aligned">
                <div class="form-group field-password1">
                    <label for="id_new_password1">New password:</label>
                    {% styled_field form.new_password1 class="form-control" error_class="is-invalid" %}
                    <div class="invalid-feedback">
                        {{ form.new_password1.errors }}
                    </div>
                    {% if form.new_password1.help_text %}
                        <small id="passwordHelpBlock"
                               class="form-text text-muted">{{ form.new_password1.help_text|safe }}</small>
                    {% endif %}
                </div>
                <div class="form-group field-password2">
                    <label for="id_new_password2">Confirm password:</label>
                    {% styled_field form.new_password2 class="form-control" error_class="is-invalid" %}
                    <div class="invalid-feedback">
                        {{ form.new_password2.errors }}
                    </div>
                    {% if form.new_password2.help_text %}
                        <small id="passwordHelpBlock"
                               class="form-text text-muted">{{ form.new_password2.help_text|safe }}</small>
                    {% endif %}
                </div>
                <input type="submit" class="btn btn-primary" value="Set password">
            </fieldset>
        </form>

    {% else %}
        <p>The password reset link was invalid, possibly because it has already been used. Please request a new password
            reset.</p>
    {% endif %}

{% endblock %}
